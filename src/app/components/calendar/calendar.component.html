<div class="row text-center">
  <div class="btn-group" style="margin-left:auto;margin-right:auto;">
    <div *ngIf="monthSelectorActivated==false; else yearNavbar">
      <div
        class="btn btn-primary"
        style="cursor: pointer;"
        mwlCalendarPreviousView
        [view]="'month'"
        [(viewDate)]="viewDate">
        Previous
      </div>
      <div
        class="btn btn-secondary"
        style="cursor: pointer;"
        (click)="monthSelectorActivated=true">
          {{ viewDate | date:"MMMM y" }}
      </div>
      <div
        class="btn btn-primary"
        style="cursor: pointer;"
        mwlCalendarNextView
        [view]="'month'"
        [(viewDate)]="viewDate">
        Next
      </div>
    </div>
    <ng-template #yearNavbar>
    <div
      class="btn btn-primary"
      style="cursor: pointer;"
      (click)="previousYear();">
      Previous
    </div>
    <div
      class="btn btn-secondary"
      style="cursor: pointer;"
      (click)="yearSelectorActivated=true">
      {{currentYear}}
    </div>
    <div
      class="btn btn-primary"
      style="cursor: pointer;"
      (click)="nextYear();">
      Next
    </div>
    </ng-template>
  </div>
</div>
<div
  class="btn btn-secondary"
  style="cursor: pointer;"
  (click)="monthSelectorActivated=false;
  yearSelectorActivated=false;
  viewDate=resetDate;
  currentYear=resetYear;">
  Reset
</div>
<br>
<div *ngIf="yearSelectorActivated==false; else yearSelector">
  <div *ngIf="monthSelectorActivated==false; else monthSelector">
    <mwl-calendar-month-view
      [events]="calendarEvents"
      [viewDate]="viewDate"
      [weekStartsOn]=1>
    </mwl-calendar-month-view>
  </div>
  <ng-template #monthSelector>
    <!-- 4x3 -->
    <div class="row">
      <div
        class="card card-faded text-center"
        *ngFor="let month of yearsAndMonths[currentYear].months"
        (click)="monthSelectorActivated = false; viewDate = month.date"
        style="width: 33%"
        >
        <div class="card-block card-title" style="cursor: pointer;">
          <h5 class="text-light lead">{{ month.name }}</h5>
          <br>
          <div class="circle" [ngClass]="{blue: month.numberOfEvents != 0, grey: month.numberOfEvents == 0}">{{ month.numberOfEvents }}</div>
        </div>
      </div>
    </div>
  </ng-template>
</div>
<ng-template #yearSelector>
<!-- 3x3 -->
  <div class="row">
    <div
      class="card card-faded text-center"
      *ngFor="let year of yearRange(currentYear)"
      (click)="yearSelectorActivated = false; currentYear = year.year"
      style="width: 33%">
      <div class="card-block card-title" style="cursor: pointer;">
        <h5 class="text-light lead">{{ year.year }}</h5>
        <br>
        <div class="circle" [ngClass]="{blue: year.numberOfEvents != 0, grey: year.numberOfEvents == 0}">{{ year.numberOfEvents }}</div>
      </div>
    </div>
  </div>
</ng-template>
